import{r as i,w as k,j as e,x as s,T as c,y as d,F as w,H as T}from"./index-D0H8proF.js";import{u as M,a as A}from"./AuthHelper-DS3yPrno.js";import{u as R}from"./useIsAuthenticated-ybSJizHP.js";import{a as S}from"./useApiClient-BYRDP6NT.js";import{T as g}from"./TextField-D37lkW32.js";import"./axios-B4uVmeYG.js";import"./List-Dxrc9c5E.js";import"./utils-D9EBU06E.js";const{httpPost:E}=S();class N{createApp(p){return console.log(p),E("/developer/createapp",p).then(o=>o)}}const I=()=>{const[a,p]=i.useState(""),[o,f]=i.useState(""),[y,x]=i.useState(""),[r,u]=i.useState(!1),m=R(),{instance:l,accounts:h}=M(),j=new N,v=k();i.useEffect(()=>{const t=A(h);x(t)},[m,h]);const C=({alertmsg:t})=>{alert(t)},D=async()=>{if(!m){try{await l.loginRedirect(T)}catch(n){console.error("Login redirect error:",n)}return}u(!0);const t={appname:a,email:y,username:o};try{console.log(t);const n=await j.createApp(t);n?(console.log("App created successfully:",n),v("/developer/myapps")):(console.error("Failed to create app:",n),C(n))}catch(n){console.error("Error creating app:",n)}finally{u(!1)}},b=!a||!o;return e.jsx(s,{sx:{display:"flex",justifyContent:"center",p:2,boxShadow:5,borderRadius:2},children:e.jsxs(s,{sx:{display:"flex",flexDirection:"column",maxWidth:"100%",height:"270px"},children:[e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:"5px"},children:[e.jsx(c,{variant:"h5",children:"Use Marketplace Partners"}),e.jsx(c,{variant:"subtitle2",children:"Create an App From scratch."}),e.jsx(c,{variant:"subtitle2",children:"App Name"}),e.jsx(g,{value:a,onChange:t=>p(t.target.value),size:"small",sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}}}}),e.jsx(c,{variant:"subtitle2",children:"Developer Name"}),e.jsx(g,{value:o,onChange:t=>f(t.target.value),size:"small",sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}}}})]}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",width:"250px",marginTop:2.5},children:[e.jsx(d,{sx:{width:"100px",border:"0.5px solid black",color:"#6D6767",borderRadius:"8px"},children:"Cancel"}),e.jsx(d,{onClick:D,disabled:b||r,sx:{width:"100px",bgcolor:b||r?"#D9D9D9":"#424242",color:b||r?"#6D6767":"white",border:"0.5px",borderRadius:"8px",outline:"none","&:hover":{bgcolor:b||r?"#D9D9D9":"#424242",color:"white"}},children:r?e.jsx(w,{size:24,color:"inherit"}):"Create"})]})]})})},F=()=>{const[a,p]=i.useState("npm"),[o,f]=i.useState("npx degit yectra/smp-template ."),[y,x]=i.useState(""),r=l=>{p(l),f(u(l))},u=l=>{switch(l){case"npm":return"npx degit yectra/smp-template .";case"yarn":return"Yarn add @Marketplace/app@latest";case"pnpm":return"Pnpm add @Marketplace/app@latest";default:return""}},m=l=>{navigator.clipboard.writeText(l).then(()=>{x("Text copied successfully."),setTimeout(()=>{x("")},1e3)}).catch(h=>x("Error copying text: "+h.message))};return e.jsxs(s,{sx:{display:"flex",flexDirection:"column",boxShadow:5,borderRadius:2},children:[e.jsxs(s,{sx:{display:"flex",flexDirection:"column",m:2},children:[e.jsx(c,{sx:{mb:2},variant:"h5",children:"Use the Marketplace"}),e.jsx(c,{variant:"subtitle2",children:"In this tutorial, you'll create an app that users can access in"}),e.jsx(c,{variant:"subtitle2",children:"You'll generate starter code to develop your app."})]}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",width:"300px",m:2},children:[e.jsx(d,{variant:"text",onClick:()=>r("npm"),sx:{fontWeight:a==="npm"?"bold":"normal",color:"black"},children:"Npm"}),e.jsx(d,{variant:"text",onClick:()=>r("yarn"),sx:{fontWeight:a==="yarn"?"bold":"normal",color:"black"},children:"Yarn"}),e.jsx(d,{variant:"text",onClick:()=>r("pnpm"),sx:{fontWeight:a==="pnpm"?"bold":"normal",color:"black"},children:"Pnpm"})]}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#D9D9D9",borderRadius:"7px",m:2},children:[e.jsx(c,{variant:"subtitle1",sx:{ml:3},children:o}),e.jsx(d,{onClick:()=>m(o),sx:{"&:hover":{bgcolor:"#252525"},bgcolor:"#252525",borderRadius:"6px",color:"white"},children:"Copy"})]}),e.jsx(s,{sx:{display:"flex",justifyContent:"center",color:"green",mb:2},children:y})]})},q=()=>e.jsxs(s,{sx:{display:"flex",justifyContent:"space-evenly",mt:10,ml:6},children:[e.jsx(F,{}),e.jsx(I,{})]});export{q as default};
