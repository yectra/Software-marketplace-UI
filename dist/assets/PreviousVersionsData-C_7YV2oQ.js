import{r as i,b as R,Q as J,S as K,_ as f,h as Y,U as Z,a as O,g as $,s as k,P as ee,V as se,j as e,d as E,e as G,B as oe,W as te,x as n,G as T,T as t,X as ne,M as re,N as ae,y as ie}from"./index-D0H8proF.js";import{u as de,a as ce}from"./AuthHelper-DS3yPrno.js";import{a as le}from"./useApiClient-BYRDP6NT.js";import{c as F}from"./index-CTgBgge_.js";import{C as pe}from"./Collapse-CktmrsUx.js";import"./axios-B4uVmeYG.js";import"./utils-D9EBU06E.js";const L=i.createContext({}),ue=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],xe=["component","slots","slotProps"],me=["component"];function be(s,o){const{className:a,elementType:r,ownerState:l,externalForwardedProps:p,getSlotOwnerState:u,internalForwardedProps:x}=o,y=R(o,ue),{component:j,slots:b={[s]:void 0},slotProps:d={[s]:void 0}}=p;R(p,xe);const m=b[s]||r,c=J(d[s],l),g=K(f({className:a},y,{externalForwardedProps:void 0,externalSlotProps:c})),{props:{component:v},internalRef:C}=g,h=R(g.props,me),M=Y(C,c==null?void 0:c.ref,o.ref),P=u?u(h):{},A=f({},l,P),V=v,N=Z(m,f({},s==="root",!b[s]&&x,h,V&&{as:V},{ref:M}),A);return Object.keys(P).forEach(w=>{delete N[w]}),[m,N]}function he(s){return $("MuiAccordion",s)}const I=O("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),ye=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],fe=F(),je=s=>{const{classes:o,square:a,expanded:r,disabled:l,disableGutters:p}=s;return G({root:["root",!a&&"rounded",r&&"expanded",l&&"disabled",!p&&"gutters"],region:["region"]},he,o)},ge=k(ee,{name:"MuiAccordion",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:a}=s;return[{[`& .${I.region}`]:o.region},o.root,!a.square&&o.rounded,!a.disableGutters&&o.gutters]}})(({theme:s})=>{const o={duration:s.transitions.duration.shortest};return{position:"relative",transition:s.transitions.create(["margin"],o),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(s.vars||s).palette.divider,transition:s.transitions.create(["opacity","background-color"],o)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${I.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${I.disabled}`]:{backgroundColor:(s.vars||s).palette.action.disabledBackground}}},({theme:s})=>({variants:[{props:o=>!o.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(s.vars||s).shape.borderRadius,borderTopRightRadius:(s.vars||s).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(s.vars||s).shape.borderRadius,borderBottomRightRadius:(s.vars||s).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:o=>!o.disableGutters,style:{[`&.${I.expanded}`]:{margin:"16px 0"}}}]})),B=i.forwardRef(function(o,a){const r=fe({props:o,name:"MuiAccordion"}),{children:l,className:p,defaultExpanded:u=!1,disabled:x=!1,disableGutters:y=!1,expanded:j,onChange:b,square:d=!1,slots:m={},slotProps:c={},TransitionComponent:g,TransitionProps:v}=r,C=R(r,ye),[h,M]=se({controlled:j,default:u,name:"Accordion",state:"expanded"}),P=i.useCallback(X=>{M(!h),b&&b(X,!h)},[h,b,M]),[A,...V]=i.Children.toArray(l),N=i.useMemo(()=>({expanded:h,disabled:x,disableGutters:y,toggle:P}),[h,x,y,P]),w=f({},r,{square:d,disabled:x,disableGutters:y,expanded:h}),U=je(w),z=f({transition:g},m),q=f({transition:v},c),[H,Q]=be("transition",{elementType:pe,externalForwardedProps:{slots:z,slotProps:q},ownerState:w});return e.jsxs(ge,f({className:E(U.root,p),ref:a,ownerState:w,square:d},C,{children:[e.jsx(L.Provider,{value:N,children:A}),e.jsx(H,f({in:h,timeout:"auto"},Q,{children:e.jsx("div",{"aria-labelledby":A.props.id,id:A.props["aria-controls"],role:"region",className:U.region,children:V})}))]}))});function ve(s){return $("MuiAccordionDetails",s)}O("MuiAccordionDetails",["root"]);const Ce=["className"],Se=F(),Re=s=>{const{classes:o}=s;return G({root:["root"]},ve,o)},Pe=k("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(s,o)=>o.root})(({theme:s})=>({padding:s.spacing(1,2,2)})),_=i.forwardRef(function(o,a){const r=Se({props:o,name:"MuiAccordionDetails"}),{className:l}=r,p=R(r,Ce),u=r,x=Re(u);return e.jsx(Pe,f({className:E(x.root,l),ref:a,ownerState:u},p))});function Ae(s){return $("MuiAccordionSummary",s)}const S=O("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),we=["children","className","expandIcon","focusVisibleClassName","onClick"],ke=F(),Me=s=>{const{classes:o,expanded:a,disabled:r,disableGutters:l}=s;return G({root:["root",a&&"expanded",r&&"disabled",!l&&"gutters"],focusVisible:["focusVisible"],content:["content",a&&"expanded",!l&&"contentGutters"],expandIconWrapper:["expandIconWrapper",a&&"expanded"]},Ae,o)},Ve=k(oe,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(s,o)=>o.root})(({theme:s})=>{const o={duration:s.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:s.spacing(0,2),transition:s.transitions.create(["min-height","background-color"],o),[`&.${S.focusVisible}`]:{backgroundColor:(s.vars||s).palette.action.focus},[`&.${S.disabled}`]:{opacity:(s.vars||s).palette.action.disabledOpacity},[`&:hover:not(.${S.disabled})`]:{cursor:"pointer"},variants:[{props:a=>!a.disableGutters,style:{[`&.${S.expanded}`]:{minHeight:64}}}]}}),Ne=k("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(s,o)=>o.content})(({theme:s})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:o=>!o.disableGutters,style:{transition:s.transitions.create(["margin"],{duration:s.transitions.duration.shortest}),[`&.${S.expanded}`]:{margin:"20px 0"}}}]})),Te=k("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(s,o)=>o.expandIconWrapper})(({theme:s})=>({display:"flex",color:(s.vars||s).palette.action.active,transform:"rotate(0deg)",transition:s.transitions.create("transform",{duration:s.transitions.duration.shortest}),[`&.${S.expanded}`]:{transform:"rotate(180deg)"}})),W=i.forwardRef(function(o,a){const r=ke({props:o,name:"MuiAccordionSummary"}),{children:l,className:p,expandIcon:u,focusVisibleClassName:x,onClick:y}=r,j=R(r,we),{disabled:b=!1,disableGutters:d,expanded:m,toggle:c}=i.useContext(L),g=h=>{c&&c(h),y&&y(h)},v=f({},r,{expanded:m,disabled:b,disableGutters:d}),C=Me(v);return e.jsxs(Ve,f({focusRipple:!1,disableRipple:!0,disabled:b,component:"div","aria-expanded":m,className:E(C.root,p),focusVisibleClassName:E(C.focusVisible,x),onClick:g,ref:a,ownerState:v},j,{children:[e.jsx(Ne,{className:C.content,ownerState:v,children:l}),u&&e.jsx(Te,{className:C.expandIconWrapper,ownerState:v,children:u})]}))}),D=te(e.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Ie=({versionData:s})=>{const[o,a]=i.useState([]),[r,l]=i.useState(""),[p,u]=i.useState(""),[x,y]=i.useState(""),[j,b]=i.useState(""),[d,m]=i.useState("");return i.useEffect(()=>{console.log(s),s&&(a(s.Params||[]),l(s.readability||""),u(s.maintainability||""),y(s.optimization||""),b(s.codeDescription||""),m(s.adminComments||""))},[s]),e.jsxs(n,{sx:{mt:2},children:[e.jsx(T,{container:!0,spacing:2,children:o.map((c,g)=>e.jsxs(T,{container:!0,item:!0,xs:12,alignItems:"center",children:[e.jsx(T,{item:!0,xs:6,children:e.jsx(t,{variant:"body1",children:c.label})}),e.jsx(T,{item:!0,xs:6,children:e.jsx(ne,{name:c.label,value:parseFloat(c.value),precision:.5,readOnly:!0,sx:{color:"#2AA9C4"}})})]},g))}),e.jsxs(n,{sx:{mt:2},children:[e.jsx(t,{variant:"body1",children:"Readability"}),e.jsx(t,{variant:"body2",children:r})]}),e.jsxs(n,{sx:{mt:2},children:[e.jsx(t,{variant:"body1",children:"Maintainability"}),e.jsx(t,{variant:"body2",children:p})]}),e.jsxs(n,{sx:{mt:2},children:[e.jsx(t,{variant:"body1",children:"Optimization"}),e.jsx(t,{variant:"body2",children:x})]}),e.jsxs(n,{sx:{mt:2},children:[e.jsx(t,{variant:"body1",children:"Code Description"}),e.jsx(t,{variant:"body2",children:j})]}),e.jsxs(n,{sx:{mt:2},children:[e.jsx(t,{variant:"body1",children:"Admin Comments"}),e.jsx(t,{variant:"body2",children:d})]})]})},{httpPost:Ee}=le();class Oe{getVersiondetails(o){return Ee("developer/devdisplay/application",o).then(a=>a)}}const $e=()=>{const{appName:s}=re(),o=s??"",a=ae({appName:o}),[r,l]=i.useState(null),[p,u]=i.useState([]),[x,y]=i.useState(""),{accounts:j}=de(),b=new Oe;return i.useEffect(()=>{const d=ce(j);y(d)},[j]),i.useEffect(()=>{x&&(async()=>{try{const c=await b.getVersiondetails({email:x,appname:o});console.log(c),c.length>0&&(l(c[c.length-1]),u(c.slice(1,-1)))}catch(m){console.error("Error fetching versions:",m)}})()},[x,o]),e.jsxs(n,{sx:{mt:7},children:[e.jsxs(n,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",pb:2},children:[e.jsx(n,{sx:{width:35,height:30,mr:1,bgcolor:"black",color:"#09FFC4",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"20%",fontSize:"1rem",fontWeight:"bold"},children:e.jsx(t,{variant:"body2",component:"span",sx:{color:"inherit",fontSize:"inherit"},children:a})}),e.jsx(t,{variant:"h5",children:s==null?void 0:s.toUpperCase()})]}),e.jsx(n,{}),e.jsxs(n,{sx:{mt:2},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600},children:"APP INFORMATION"}),r&&e.jsxs(n,{children:[e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Version"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:r.v})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Updated On"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:r.updatedOn})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Github Link"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:e.jsx("a",{href:r.githublink,target:"_blank",rel:"noopener noreferrer",children:r.githublink})})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Dockerhub Link"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:r.dockerhublink})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Release Date"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:"-"})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Approval Status"}),e.jsx(t,{variant:"body1",sx:{color:r.approvedStatus=="accepted"?"green":"red"},children:r.approvedStatus})]})]})]}),e.jsx(n,{sx:{mt:2},children:e.jsxs(B,{children:[e.jsx(W,{expandIcon:e.jsx(D,{}),children:e.jsx(t,{variant:"body1",children:"Version Feedback"})}),e.jsx(_,{children:r&&e.jsx(Ie,{versionData:r.versionfeedback[0]})})]})})]}),e.jsx(n,{sx:{mt:4},children:e.jsxs(B,{children:[e.jsx(W,{expandIcon:e.jsx(D,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e.jsx(t,{variant:"body1",children:"Check out previous versions"})}),e.jsx(_,{children:e.jsx(n,{sx:{width:"100%"},children:p.length===0?e.jsx(t,{variant:"body2",children:"No previous versions available."}):p.map((d,m)=>e.jsxs(n,{sx:{border:"1px solid #ccc",borderRadius:4,p:2,my:1},children:[e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Version"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:d.v})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Updated On"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:"02/01/2024"})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Github Link"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:e.jsx("a",{href:d.githublink,target:"_blank",rel:"noopener noreferrer",children:d.githublink})})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Dockerhub Link"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:d.dockerhublink})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Release Date"}),e.jsx(t,{variant:"body1",sx:{color:"grey"},children:"02/04/2024"})]}),e.jsxs(n,{display:"flex",justifyContent:"space-between",mt:1,children:[e.jsx(t,{variant:"body1",children:"Approval Status"}),e.jsx(t,{variant:"body1",sx:{color:d.approvedStatus=="accepted"?"green":"red"},children:d.approvedStatus})]}),e.jsx(n,{mt:1,sx:{display:"flex",flexDirection:"column"},children:e.jsx(t,{variant:"body1",children:"Version Feedback"})}),d.approvedStatus==="accepted"&&e.jsx(ie,{variant:"contained",sx:{backgroundColor:"#0C9DBD",color:"#fff","&:hover":{backgroundColor:"#0C9DBD"},mt:2},children:"Rollback"})]},m))})})]})})]})},Le=()=>e.jsx(n,{sx:{ml:20,mt:10,pr:2},children:e.jsx($e,{})});export{Le as default};
