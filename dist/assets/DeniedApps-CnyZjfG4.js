import{r as o,j as e,x as i,T as x,P as j}from"./index-D0H8proF.js";import{a as m,A as u}from"./index-BZWIwojz.js";import{T as f}from"./TextField-D37lkW32.js";import{T as b,a as v,b as y,c as l,d as s,e as g}from"./TableRow-Ba3ZLWe4.js";import{L as d}from"./Link-BNDxpYvr.js";import"./List-Dxrc9c5E.js";import"./utils-D9EBU06E.js";import"./index-CTgBgge_.js";import"./useApiClient-BYRDP6NT.js";import"./axios-B4uVmeYG.js";const P=()=>{const[t,c]=o.useState([]),p=new u;o.useEffect(()=>{h()},[]);const h=async()=>{try{const r=await p.getDeniedRequests();Array.isArray(r)&&r.length>0?c(r):console.log("Empty or invalid data received:",r)}catch(r){console.error("Error fetching data:",r)}};return e.jsxs(i,{sx:{mt:10,ml:20},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[e.jsx(x,{variant:"h6",children:"Approved Apps"}),e.jsx(i,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(m,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,options:t.map(r=>r.appname),sx:{width:300,height:40,p:2},renderInput:r=>e.jsx(f,{...r,label:"Find Your App",InputProps:{...r.InputProps,type:"search"}})})})]}),e.jsx(j,{sx:{width:"100%",overflow:"hidden"},children:e.jsx(b,{children:e.jsxs(v,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(y,{children:e.jsxs(l,{children:[e.jsx(s,{children:"Username"}),e.jsx(s,{children:"AppName"}),e.jsx(s,{children:"Version"}),e.jsx(s,{children:"Github URL"}),e.jsx(s,{children:"Docker"}),e.jsx(s,{children:"Approval Status"})]})}),e.jsx(g,{children:t.map(r=>r.apps.map((n,a)=>e.jsxs(l,{hover:!0,role:"checkbox",tabIndex:-1,children:[a===0&&e.jsx(e.Fragment,{children:e.jsx(s,{rowSpan:r.apps.length,children:e.jsx(d,{href:"#",underline:"none",children:r.username})})}),e.jsx(s,{sx:{color:r.Approval?"green":"inherit"},children:n.appname}),e.jsx(s,{children:n.versions[0].v}),e.jsx(s,{children:e.jsx(d,{href:n.versions[0].githublink,target:"_blank",rel:"noopener",children:n.versions[0].githublink})}),e.jsx(s,{children:n.versions[0].dockerhublink}),e.jsx(s,{sx:{color:"red"},children:"Denied"})]},a)))})]})})})]})};export{P as default};
